<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† - Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø³Ø¹Ø§Ù</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div class="login-container">
            <div class="login-header">
                <div class="logo-container">
                    <div class="logo-shine"></div>
                    <img src="logo.png" alt="Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©" class="ministry-logo">
                </div>
                <div class="title-container">
                    <h2><span class="title-highlight">Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</span>
                        <br>
                        <span class="ministry-name">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©</span>
                    </h2>
                </div>
            </div>

<body class="d-flex align-items-center justify-content-center" style="height:100vh;">

<div class="card p-4" style="width:360px;">
<h4 class="mb-3">ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¹Ù</h4>
<div class="mb-2"><input id="inputId" class="form-control" placeholder="ID Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"></div>
<div class="mb-3"><input id="inputCode" class="form-control" placeholder="Code (Ù…Ø«Ø§Ù„ H-1)"></div>
<button id="loginBtn" class="btn btn-primary w-100">Ø¯Ø®ÙˆÙ„</button>
<div id="loginMsg" class="mt-3"></div>
</div>

  <footer>
    &copy; 2026 ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø© - Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© ğŸ‘©â€âš•ï¸ğ“–ğ“±ğ“ªğ”ƒğ”€ğ“ªğ“·ğŸš‘
  </footer>

<script type="module">
import { verifyUser } from './database.js';
document.getElementById('loginBtn').addEventListener('click', async ()=>{
const id = document.getElementById('inputId').value.trim();
const code = document.getElementById('inputCode').value.trim();
const msg = document.getElementById('loginMsg');
if(!id || !code){ msg.innerText = 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ID Ùˆ Code'; return; }
msg.innerText = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
const res = await verifyUser(id, code);
if(res && res.length===1){
// Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ sessionStorage Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰
sessionStorage.setItem('employeeData', JSON.stringify(res[0]));
window.location.href = 'index.html';
} else {
msg.innerText = 'ID Ø£Ùˆ Code ØºÙŠØ± ØµØ­ÙŠØ­ Ø£Ùˆ Ø§Ù„Ø­Ø³Ø§Ø¨ ØºÙŠØ± Ù†Ø´Ø·';
}
});
</script>
</body>
</html>