<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø³Ø¬Ù„ ØªÙˆØ§Ø¬Ø¯ Ø§Ù„Ù…Ø³Ø¹ÙÙŠÙ† - ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="header-section">
            <div class="logo-container">
                <div class="logo-shine"></div>
                <img src="logo.png" alt="Ø´Ø¹Ø§Ø± ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©" class="ministry-logo">
            </div>
            <div class="title-container">
                <h1>
                    <span class="title-highlight">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¥Ø³Ø¹Ø§Ù</span>
                    <br>
                    <span class="ministry-name">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©</span>
                </h1>
            </div>
                <div class="admin-controls">
                    <div class="ms-auto">
                        <span class="me-3"><span id="employeeName"></span></span>
                        <a href="index.html" class="btn btn-info-2">
                        <i class="fas fa-clock"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                    </a>
                </div>
            </div>
        </div>
</head>
<body>
    <div class="container mt-4">
        <!-- Header -->
        <div class="header-section">
            <h1>Ø³Ø¬Ù„ ØªÙˆØ§Ø¬Ø¯ Ø§Ù„Ù…Ø³Ø¹ÙÙŠÙ†</h1>
            <p>ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØµØ­Ø©</p>
        </div>

                                          <!-- Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø³Ø§Ø¹Ø§Øª -->
                                        <div class="text-center mt-5">
                                          <button id="adminResetBtn" class="btn btn-danger" style="display:none;">
                                            ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø§Ø¹Ø§Øª
                                          </button>
                                        
                                          <button id="adminLoginBtn" class="btn btn-dark">
                                            ğŸ” ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„
                                          </button>
                                        </div>
                                        
                                        <script>
                                        /* ğŸ”‘ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ (ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ù‹Ø§) */
                                        const ADMIN_ID = "Qir5hoon";   // ID Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø´Ø±Ù
                                        const ADMIN_CODE = "Qir5hoon_1998-1999";  // ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ù…Ø´Ø±Ù
                                        
                                        // Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„
                                        document.getElementById("adminLoginBtn").addEventListener("click", () => {
                                          const id = prompt("Ø£Ø¯Ø®Ù„ ID Ø§Ù„Ù…Ø´Ø±Ù:");
                                          const code = prompt("Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¯Ø®ÙˆÙ„:");
                                        
                                          if (id === ADMIN_ID && code === ADMIN_CODE) {
                                            alert("âœ… ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ø¨Ù†Ø¬Ø§Ø­ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø³Ø§Ø¹Ø§Øª.");
                                            document.getElementById("adminResetBtn").style.display = "inline-block";
                                            document.getElementById("adminLoginBtn").style.display = "none";
                                          } else {
                                            alert("ğŸš« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©!");
                                          }
                                        });
                                        
                                        // Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø³Ø§Ø¹Ø§Øª
                                        document.getElementById("adminResetBtn").addEventListener("click", () => {
                                          if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø§Ø¹Ø§ØªØŸ")) {
                                            resetAllHours();
                                          }
                                        });
                                        
                                        // Ø¯Ø§Ù„Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø·
                                        function resetAllHours() {
                                          const keys = Object.keys(localStorage);
                                          let count = 0;
                                        
                                          keys.forEach(key => {
                                            if (key.endsWith("_hours") || key.endsWith("_login") || key.endsWith("_logout")) {
                                              localStorage.removeItem(key);
                                              count++;
                                            }
                                          });
                                        
                                          alert(`ğŸ§¹ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· ${count} Ù…Ù† Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø¨Ù†Ø¬Ø§Ø­.`);
                                          location.reload(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø³Ø­
                                        }
                                        </script>



        <!-- Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªÙˆØ§Ø¬Ø¯ -->
        <div class="table-responsive mb-5">
            <table class="table table-striped table-bordered align-middle" id="attendanceTable">
                <thead class="table-dark">
                    <tr>
                        <th>Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¹Ù</th>
                        <th>Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
                        <th>Ø§Ù„ÙŠÙˆÙ…</th>
                        <th>ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„</th>
                        <th>ÙˆÙ‚Øª Ø§Ù„Ø®Ø±ÙˆØ¬</th>
                        <th>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø§Ø¹Ø§Øª</th>
                    </tr>
                </thead>
                <tbody id="attendanceTableBody">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
                </tbody>
            </table>
        </div>

    <script>
        // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³Ø¹ÙÙŠÙ† (ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ Ù„ØªØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø¬Ø¯ÙˆÙ„Ùƒ)
        const paramedics = [
            { name: 'Ù…Ø­Ù…Ø¯', id: 'H-60' },
            { name: 'Ø§Ø­Ù…Ø¯', id: 'H-8' },
            { name: 'Ø§ÙŠÙ‡', id: 'H-23' }
        ];

        function formatDateTime(date) {
            return date.toLocaleTimeString() + ' - ' + date.toLocaleDateString();
        }

        function getDayName(date) {
            const days = ['Ø§Ù„Ø£Ø­Ø¯','Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†','Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡','Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡','Ø§Ù„Ø®Ù…ÙŠØ³','Ø§Ù„Ø¬Ù…Ø¹Ø©','Ø§Ù„Ø³Ø¨Øª'];
            return days[date.getDay()];
        }

        function loadAttendance() {
            const tbody = document.getElementById('attendanceTableBody');
            tbody.innerHTML = '';

            paramedics.forEach(p => {
                const loginISO = localStorage.getItem(p.id + '_login');
                const logoutISO = localStorage.getItem(p.id + '_logout');
                const hours = localStorage.getItem(p.id + '_hours');

                if (loginISO) {
                    const loginDate = new Date(loginISO);
                    const logoutDate = logoutISO ? new Date(logoutISO) : null;

                    const tr = document.createElement('tr');

                    // Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¹Ù
                    const tdName = document.createElement('td');
                    tdName.textContent = p.name;
                    tr.appendChild(tdName);

                    // Ø§Ù„ØªØ§Ø±ÙŠØ®
                    const tdDate = document.createElement('td');
                    tdDate.textContent = loginDate.toLocaleDateString();
                    tr.appendChild(tdDate);

                    // Ø§Ù„ÙŠÙˆÙ…
                    const tdDay = document.createElement('td');
                    tdDay.textContent = getDayName(loginDate);
                    tr.appendChild(tdDay);

                    // ÙˆÙ‚Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
                    const tdIn = document.createElement('td');
                    tdIn.textContent = loginDate.toLocaleTimeString();
                    tr.appendChild(tdIn);

                    // ÙˆÙ‚Øª Ø§Ù„Ø®Ø±ÙˆØ¬
                    const tdOut = document.createElement('td');
                    tdOut.textContent = logoutDate ? logoutDate.toLocaleTimeString() : '-';
                    tr.appendChild(tdOut);

                    // Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø§Ø¹Ø§Øª
                    const tdHours = document.createElement('td');
                    tdHours.textContent = hours ? hours : '-';
                    tr.appendChild(tdHours);

                    tbody.appendChild(tr);
                }
            });
        }

        window.addEventListener('DOMContentLoaded', loadAttendance);
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
</body>
</html>
